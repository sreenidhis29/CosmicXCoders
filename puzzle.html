<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exoplanet Jigsaw Puzzle</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-image: url('images.jpg');
      background-size: cover;
      color: white;
    }
    .container {
      padding-top: 50px;
      text-align: center;
    }
    .puzzle-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      max-width: 600px;
      margin: 0 auto;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 10px;
    }
    .puzzle-piece {
      width: 150px;
      height: 150px;
      margin: 10px;
      border: 2px solid white;
      background-color: #333;
      border-radius: 5px;
      background-size: cover;
    }
    .dark-bg {
      background-color: rgba(0, 0, 0, 0.7);
    }
    .hidden {
      display: none;
    }
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(0, 0, 0, 0.8);
      padding: 20px;
      color: white;
      border-radius: 10px;
      z-index: 9999;
    }
    .popup h2 {
      margin: 0;
    }
    .home-button {
            position: absolute;
            top: 20px;
            right: 20px;
        }
    .btn {
            color:black;
            background-color: white;
            border-radius: 50px;
        }
  </style>
</head>
<body>
    <a href="gamepage.html" class="btn home-button btn-primary"> Back to Gamex</a>
  <div class="container">
    <h1>Exoplanet Jigsaw Puzzle</h1>
    <p>Complete the puzzle to learn the name of the exoplanet!</p>
    <div class="puzzle-container">
      <div id="piece1" class="puzzle-piece" draggable="true" style="background-image: url('/EXPEXO/img/part1.jpg');"></div>
      <div id="piece2" class="puzzle-piece" draggable="true" style="background-image: url('/EXPEXO/img/part2.jpg');"></div>
      <div id="piece3" class="puzzle-piece" draggable="true" style="background-image: url('/EXPEXO/img/part3.jpg');"></div>
      <div id="piece4" class="puzzle-piece" draggable="true" style="background-image: url('/EXPEXO/img/part4.jpg');"></div>
    </div>
  </div>

  <div id="popup" class="popup">
    <h2>Congratulations!</h2>
    <p>The name of the exoplanet is: <strong>Kepler-186f</strong></p>
    <button class="btn btn-primary" onclick="closePopup()">Close</button>
  </div>

  <script>
    // Drag and drop functionality
    let draggedPiece = null;

    document.querySelectorAll('.puzzle-piece').forEach(piece => {
      piece.addEventListener('dragstart', function () {
        draggedPiece = piece;
      });

      piece.addEventListener('dragover', function (event) {
        event.preventDefault();
      });

      piece.addEventListener('drop', function () {
        if (draggedPiece !== this) {
          let tempSrc = this.style.backgroundImage;
          this.style.backgroundImage = draggedPiece.style.backgroundImage;
          draggedPiece.style.backgroundImage = tempSrc;
        }
        checkCompletion();
      });
    });

    // Function to check if the puzzle is complete
    function checkCompletion() {
      const pieces = document.querySelectorAll('.puzzle-piece');
      const piece1 = document.getElementById('piece1');
      const piece2 = document.getElementById('piece2');
      const piece3 = document.getElementById('piece3');
      const piece4 = document.getElementById('piece4');

      if (
        piece1.style.backgroundImage.includes('/EXPEXO/img/part1.jpg') &&
        piece2.style.backgroundImage.includes('/EXPEXO/img/part2.jpg') &&
        piece3.style.backgroundImage.includes('/EXPEXO/img/part3.jpg') &&
        piece4.style.backgroundImage.includes('/EXPEXO/img/part4.jpg')
      ) {
        showPopup();
      }
    }

    // Show the popup
    function showPopup() {
      document.getElementById('popup').style.display = 'block';
    }

    // Close the popup
    function closePopup() {
      document.getElementById('popup').style.display = 'none';
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
